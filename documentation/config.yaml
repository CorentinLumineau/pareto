# Pareto Comparator - Project Configuration
# Generated: 2025-12-01
# Version: 1.1.0
# Stack Validated: 2025-12-01 (December 2025 stable versions)

project:
  name: Pareto Comparator
  description: Multi-objective comparison SaaS platform for French market
  domain: comparateur.fr  # To be purchased
  status: pre-mvp
  goal: validate_business_model  # Primary objective

team:
  size: solo
  primary_developer: clumineau
  experience_level: strong_but_learning
  time_commitment: variable

budget:
  monthly: "<50EUR"
  approach: minimal_then_scale
  infrastructure: "VPS + domain only initially"
  proxies: "Start with free tier / datacenter, upgrade when validating"

legal:
  status: will_start_later
  entity_type: SASU
  timing: "Register when ready to launch MVP"

# =============================================================================
# VALIDATED STACK (December 2025 - Latest Stable Versions)
# =============================================================================

stack:
  backend:
    - name: go
      version: "1.24.10"
      context7_id: "/golang/go/go1_24_6"
      description: Modular monolith API with Chi router
    - name: chi
      version: "5.2.0"
      description: HTTP router (lightweight, stdlib compatible)
    - name: pgx
      version: "5.7.0"
      description: PostgreSQL driver (high-performance)
    - name: python
      version: "3.14.0"
      description: Celery workers for scraping and Pareto calculation
    - name: celery
      version: "5.5+"
      description: Task queue with Redis broker

  frontend:
    - name: nextjs
      version: "16.0.3"
      context7_id: "/vercel/next.js/v16.0.3"
      description: SSR/RSC with Turbopack default, App Router
    - name: react
      version: "19.2.0"
      context7_id: "/facebook/react/v19_2_0"
      description: React 19 with Server Components and Actions
    - name: tailwindcss
      version: "4.1.17"
      context7_id: "/websites/tailwindcss"
      description: CSS-first configuration, Lightning CSS
    - name: typescript
      version: "5.9+"
      description: Type safety

  mobile:
    - name: expo
      version: "53"
      context7_id: "/expo/expo"
      description: Cross-platform mobile framework
    - name: react-native
      version: "0.79.0"
      context7_id: "/websites/reactnative_dev"
      description: Mobile runtime with New Architecture
    - name: nativewind
      version: "4.x"
      context7_id: "/websites/nativewind_dev"
      description: Tailwind CSS for React Native

  tanstack:
    - name: "@tanstack/react-query"
      version: "5.84+"
      context7_id: "/tanstack/query/v5_84_1"
      description: Data fetching, caching, server state
    - name: "@tanstack/react-table"
      version: "8.20+"
      description: Headless table with sorting, filtering, pagination
    - name: "@tanstack/react-form"
      version: "0.34+"
      description: Form state management

  ui:
    - name: "shadcn/ui"
      description: Copy-paste components, Radix primitives
    - name: recharts
      version: "2.14+"
      description: Pareto visualization with shadcn integration
    - name: zod
      version: "3.24+"
      description: Schema validation for forms

  database:
    - name: postgresql
      version: "18.1"
      description: Primary database with UUIDv7, 3x I/O improvement
    - name: timescaledb
      version: "2.23.0"
      description: Time-series extension for price history
    - name: redis
      version: "8.4.0"
      description: Cache, job queue (unified OSS + Stack with JSON/Search)

  infrastructure:
    - name: docker
      version: "29.1.1"
      description: Container orchestration
    - name: cloudflare
      description: CDN, Tunnel, WAF
    - name: dokploy
      version: "latest"
      description: Self-hosted deployment platform
    - name: github-actions
      description: CI/CD pipeline
    - name: node
      version: "24.x"
      description: JavaScript runtime (LTS)
    - name: hetzner
      plan: "CPX21 (3vCPU, 4GB RAM)"
      price: "~8EUR/month"
      description: VPS hosting

  libraries:
    python:
      - curl_cffi>=0.7.0  # Anti-bot bypass with TLS fingerprinting
      - celery>=5.5.0  # Task queue
      - beautifulsoup4>=4.12.0  # HTML parsing
      - pydantic>=2.11.0  # Data validation
      - paretoset>=1.2.0  # Pareto frontier calculation
      - lxml>=5.3.0  # Fast HTML parser
    go:
      - go-chi/chi/v5  # HTTP router
      - jackc/pgx/v5  # PostgreSQL driver
      - redis/go-redis/v9  # Redis client
      - rs/zerolog  # Structured logging
      - lithammer/fuzzysearch  # Entity matching

# =============================================================================
# MVP SCOPE
# =============================================================================

verticals:
  mvp:
    - smartphones  # Single category for MVP focus
  future:
    - laptops
    - headphones
    - tablets
    - saas
    - banking

retailers:
  mvp:
    - amazon.fr
    - fnac.com
    - cdiscount.com
    - darty.com
    - boulanger.com
    - ldlc.com

# =============================================================================
# MONETIZATION (Deferred until MVP validation)
# =============================================================================

monetization:
  primary: affiliate_marketing
  status: not_applied_yet
  networks:
    - name: amazon_associates
      status: pending
      timing: "Apply when MVP has traffic"
    - name: awin
      status: pending
      retailers: [fnac, darty, cdiscount]
    - name: effinity
      status: pending
      retailers: [boulanger]

# =============================================================================
# COMPLIANCE
# =============================================================================

compliance:
  - gdpr
  - decree_2017_1434  # French transparency law
  - dsp2  # Open Banking (future)

# =============================================================================
# ARCHITECTURE
# =============================================================================

architecture:
  pattern: modular_monolith
  rationale: "Solo dev, YAGNI, validate first"
  services:
    - name: go_api
      framework: chi
      database: pgx
      responsibilities:
        - REST API
        - Scraper orchestration
        - Affiliate link generation
    - name: python_workers
      framework: celery
      broker: redis
      responsibilities:
        - HTML fetching (curl_cffi)
        - HTML parsing (BeautifulSoup)
        - Pareto calculation (paretoset)
    - name: nextjs_frontend
      framework: nextjs_16
      data_fetching: tanstack_query
      ui: shadcn_ui
      responsibilities:
        - SSR pages
        - Pareto visualization
        - SEO optimization
    - name: expo_mobile
      framework: expo_53
      styling: nativewind
      responsibilities:
        - iOS/Android app
        - Barcode scanner
        - Push notifications
